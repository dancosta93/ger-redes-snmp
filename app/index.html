<!DOCTYPE html>

<html lang="en" ng-app="MyApp">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Trab1 Ger. Redes</title>

    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="custom.css">

    <script src="../bower_components/jquery/dist/jquery.js"></script>
    <script src="../bower_components/angular/angular.js"></script>
    <script src="../bower_components/lodash/lodash.js"></script>
    <script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="../bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>

    <script src="app.js"></script>
    <script src="panel/panel.directive.js"></script>

</head>
<body ng-controller="AppController as ctrl">

<div class="container">

    <div class="well">
        <div ng-hide="connected">
            <input type="text" ng-model="hostAddress"/>
            <button class="btn btn-info" ng-click="connect()">Conectar</button>
        </div>

        <div ng-show="connected">
            <bootstrap-panel class="row" title="Dados" type="primary">
                <div class="data-block">
                    <span>Descr: {{findValue(SYSTEM_OIDS.DESCR)}}</span>
                    <span>Contato: {{findValue(SYSTEM_OIDS.CONTACT)}}</span>
                    <span>Usuario: {{findValue(SYSTEM_OIDS.USERNAME)}}</span>
                    <span>Localização: {{findValue(SYSTEM_OIDS.LOCATION)}}</span>
                    <span>UpTime: {{(findValue(SYSTEM_OIDS.SYSUPTIME) / 100 / 60) | number : 2}} minutos</span>
                </div>
            </bootstrap-panel>

            <bootstrap-panel class="row" title="Interfaces de Rede" type="primary">
                <button class="btn btn-info" class="row" ng-click="loadInterfaces()">Carregar dados</button>
                <span class="row">Quantidade de interfaces {{interfaces.length}}</span>
                <table style="width:100%" class="table-striped">
                    <thead>
                    <tr>
                        <th>Descrição</th>
                        <th>MTU</th>
                        <th>Endereco Fisico (MAC)</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="i in interfaces">
                        <td>
                            {{i.descr}}
                        </td>
                        <td>
                            {{i.mtu}}
                        </td>
                        <td>
                            {{i.physAddress}}
                        </td>
                    </tr>
                    </tbody>
                </table>
            </bootstrap-panel>

            <bootstrap-panel class="row" title="Armazenamento" type="primary">
                <button class="btn btn-info" class="row" ng-click="loadStorage()">Carregar dados</button>
                <table style="width:100%" class="table-striped">
                    <thead>
                    <tr>
                        <th>Descrição</th>
                        <th>Tamanho</th>
                        <th>Espaço Livre</th>
                        <th>Espaço Usado</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="i in storage">
                        <td>
                            {{i.descr}}
                        </td>
                        <td>
                            {{i.storageSize | number: 2}} Mb
                        </td>
                        <td>
                            {{i.storageUsed | number: 2}} Mb
                        </td>
                        <td>
                            {{(i.storageUsed / i.storageSize) * 100 | number : 1}}%
                        </td>
                    </tr>
                    </tbody>
                </table>
            </bootstrap-panel>

            <bootstrap-panel class="row" title="Softwares Instalados" type="primary">
                <button class="btn btn-info" class="row" ng-click="loadSwInstalled()">Carregar dados</button>

                <table style="width:100%" class="table-striped">
                    <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Data de Instalação</th>
                        <th>Tipo</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="i in swInstalled">
                        <td>
                            {{i.name}}
                        </td>
                        <td>
                            {{i.installDate}}
                        </td>
                        <td>
                            {{i.type}}
                        </td>
                    </tr>
                    </tbody>
                </table>
            </bootstrap-panel>

            <bootstrap-panel class="row" title="Softwares Executando" type="primary">
                <button class="btn btn-info" class="row" ng-click="loadSwRunning()">Carregar dados</button>

                <table style="width:100%" class="table-striped">
                    <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Caminho</th>
                        <th>Tipo</th>
                        <th>Status</th>
                        <th>CPU</th>
                        <th>Memória</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="i in swRunning">
                        <td>
                            {{i.name}}
                        </td>
                        <td>
                            {{i.swRunPath}}
                        </td>
                        <td>
                            {{i.swRunType}}
                        </td>
                        <td>
                            {{i.swRunStatus}}
                        </td>
                        <td>
                            {{i.perfCpu | number: 1}} %
                        </td>
                        <td>
                            {{i.perfMem | number: 2}}Mb
                        </td>
                    </tr>
                    </tbody>
                </table>
            </bootstrap-panel>
        </div>
    </div>
</div>


</body>
</html>